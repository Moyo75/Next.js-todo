{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React, { Component } from \"react\";\nimport Head from \"next-server/head\";\nimport Header from \"../components/Header\";\nimport TodoInput from \"../components/TodoInput\";\nimport TodoItem from \"../components/TodoItem\";\nimport fetch from \"isomorphic-unfetch\";\n\nvar index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(index, _Component);\n\n  function index(props) {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(index).call(this, props));\n    _this.state = {\n      todos: []\n    };\n    _this.addTodo = _this.addTodo.bind(_assertThisInitialized(_this));\n    _this.removeTodo = _this.removeTodo.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        todos: this.props.todoList\n      });\n    }\n  }, {\n    key: \"addTodo\",\n    value: function addTodo(todoText) {\n      var todos = this.state.todos.slice();\n      todos.push({\n        id: this.state.nextId,\n        text: todoText\n      });\n      this.setState({\n        todos: todos,\n        nextId: ++this.state.nextId\n      });\n    }\n  }, {\n    key: \"removeTodo\",\n    value: function removeTodo(id) {\n      this.setState({\n        todos: this.state.todos.filter(function (todo, index) {\n          return todo.id !== id;\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", null, React.createElement(Head, null, React.createElement(\"title\", null, \"My styled page\")), React.createElement(\"div\", {\n        className: \"Index\"\n      }, React.createElement(\"div\", {\n        className: \"todo-wrapper\"\n      }, React.createElement(Header, null), React.createElement(TodoInput, {\n        todoText: \"\",\n        addTodo: this.addTodo\n      }), React.createElement(\"ul\", null, this.state.todos.map(function (todo) {\n        return React.createElement(TodoItem, {\n          todo: todo.text,\n          key: todo.id,\n          id: todo.id,\n          removeTodo: _this2.removeTodo\n        });\n      }))), React.createElement(\"style\", {\n        scoped: true\n      }, \"\\n          .Index {\\n            text-align: center;\\n          }\\n          \\n          .todo-wrapper {\\n            margin: 20px auto;\\n            padding: 20px;\\n            min-height: 600px;\\n            border: 5px solid #7d87e4;\\n            width: 500px;\\n          }\\n          \")));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"http://localhost:3000/todos\");\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                data = _context.sent;\n                return _context.abrupt(\"return\", {\n                  todoList: data.todos\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return index;\n}(Component);\n\nexport { index as default };","map":{"version":3,"sources":["C:\\Users\\hp\\Documents\\Books\\React projects\\Enye\\NextTodo-Submit\\Next.js-todo\\pages\\index.js"],"names":["React","Component","Head","Header","TodoInput","TodoItem","fetch","index","props","state","todos","addTodo","bind","removeTodo","setState","todoList","todoText","slice","push","id","nextId","text","filter","todo","map","res","json","data"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;;IAEqBC,K;;;;;AACnB,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAIA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB;AARiB;AASlB;;;;yCAUoB;AACnB,WAAKE,QAAL,CAAc;AACZJ,QAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWO;AADN,OAAd;AAGD;;;4BAEOC,Q,EAAU;AAChB,UAAIN,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBO,KAAjB,EAAZ;AAEAP,MAAAA,KAAK,CAACQ,IAAN,CAAW;AAAEC,QAAAA,EAAE,EAAE,KAAKV,KAAL,CAAWW,MAAjB;AAAyBC,QAAAA,IAAI,EAAEL;AAA/B,OAAX;AACA,WAAKF,QAAL,CAAc;AACZJ,QAAAA,KAAK,EAAEA,KADK;AAEZU,QAAAA,MAAM,EAAE,EAAE,KAAKX,KAAL,CAAWW;AAFT,OAAd;AAID;;;+BAEUD,E,EAAI;AACb,WAAKL,QAAL,CAAc;AACZJ,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,MAAjB,CAAwB,UAACC,IAAD,EAAOhB,KAAP;AAAA,iBAAiBgB,IAAI,CAACJ,EAAL,KAAYA,EAA7B;AAAA,SAAxB;AADK,OAAd;AAGD;;;6BAEQ;AAAA;;AACP,aACE,iCACE,oBAAC,IAAD,QACE,oDADF,CADF,EAIE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,oBAAC,MAAD,OADF,EAEE,oBAAC,SAAD;AAAW,QAAA,QAAQ,EAAC,EAApB;AAAuB,QAAA,OAAO,EAAE,KAAKR;AAArC,QAFF,EAGE,gCACG,KAAKF,KAAL,CAAWC,KAAX,CAAiBc,GAAjB,CAAqB,UAAAD,IAAI,EAAI;AAC5B,eACE,oBAAC,QAAD;AACE,UAAA,IAAI,EAAEA,IAAI,CAACF,IADb;AAEE,UAAA,GAAG,EAAEE,IAAI,CAACJ,EAFZ;AAGE,UAAA,EAAE,EAAEI,IAAI,CAACJ,EAHX;AAIE,UAAA,UAAU,EAAE,MAAI,CAACN;AAJnB,UADF;AAQD,OATA,CADH,CAHF,CADF,EAkBE;AAAO,QAAA,MAAM;AAAb,6SAlBF,CAJF,CADF;AAuCD;;;;;;;;;;;;;uBArEmBP,KAAK,CAAC,6BAAD,C;;;AAAjBmB,gBAAAA,G;;uBACaA,GAAG,CAACC,IAAJ,E;;;AAAbC,gBAAAA,I;iDACC;AACLZ,kBAAAA,QAAQ,EAAEY,IAAI,CAACjB;AADV,iB;;;;;;;;;;;;;;;;;;;EAfwBT,S;;SAAdM,K","sourcesContent":["import React, { Component } from \"react\";\r\nimport Head from \"next/head\";\r\n\r\nimport Header from \"../components/Header\";\r\nimport TodoInput from \"../components/TodoInput\";\r\nimport TodoItem from \"../components/TodoItem\";\r\n\r\nimport fetch from \"isomorphic-unfetch\";\r\n\r\nexport default class index extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      todos: []\r\n    };\r\n\r\n    this.addTodo = this.addTodo.bind(this);\r\n    this.removeTodo = this.removeTodo.bind(this);\r\n  }\r\n\r\n  static async getInitialProps() {\r\n    const res = await fetch(\"http://localhost:3000/todos\");\r\n    const data = await res.json();\r\n    return {\r\n      todoList: data.todos\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setState({\r\n      todos: this.props.todoList\r\n    });\r\n  }\r\n\r\n  addTodo(todoText) {\r\n    let todos = this.state.todos.slice();\r\n\r\n    todos.push({ id: this.state.nextId, text: todoText });\r\n    this.setState({\r\n      todos: todos,\r\n      nextId: ++this.state.nextId\r\n    });\r\n  }\r\n\r\n  removeTodo(id) {\r\n    this.setState({\r\n      todos: this.state.todos.filter((todo, index) => todo.id !== id)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Head>\r\n          <title>My styled page</title>\r\n        </Head>\r\n        <div className=\"Index\">\r\n          <div className=\"todo-wrapper\">\r\n            <Header />\r\n            <TodoInput todoText=\"\" addTodo={this.addTodo} />\r\n            <ul>\r\n              {this.state.todos.map(todo => {\r\n                return (\r\n                  <TodoItem\r\n                    todo={todo.text}\r\n                    key={todo.id}\r\n                    id={todo.id}\r\n                    removeTodo={this.removeTodo}\r\n                  />\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n\r\n          <style scoped>{`\r\n          .Index {\r\n            text-align: center;\r\n          }\r\n          \r\n          .todo-wrapper {\r\n            margin: 20px auto;\r\n            padding: 20px;\r\n            min-height: 600px;\r\n            border: 5px solid #7d87e4;\r\n            width: 500px;\r\n          }\r\n          `}</style>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}